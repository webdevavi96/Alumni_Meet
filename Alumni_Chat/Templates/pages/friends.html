{% extends 'index.html' %}
{% load static %}
{% load friends_extras %}

{% block content %}
<!-- <div class="container mt-4">
    <h3 class="mb-3">Find Friends</h3>

    <form method="GET" class="mb-4">
        <input type="text" name="q" class="form-control" placeholder="Search by name or email" value="{{ query }}">
    </form>

    <h5 class="mb-3">Your Friends</h5>
    <div class="row">
        {% for friend in friends %}
        <div class="col-md-3 mb-3">
            <div class="card p-3 h-100 shadow-sm">
                <strong>{{ friend.name }}</strong>
            </div>
        </div>
        {% empty %}
        <p class="text-muted">You donâ€™t have any friends yet.</p>
        {% endfor %}
    </div>

    <hr class="my-4">

    <h5 class="mb-3">Suggested People</h5>
    <div class="row">
        {% for user in users %}
        {% if user not in friends and user != request.user %}
        <div class="col-md-3 mb-3">
            <div class="card p-3 h-100 shadow-sm">
                {% if user.profile_picture %}
                <img src="{{ user.profile_picture.url }}" alt="{{ user.get_full_name }}" class="rounded-circle"
                    width="70" height="70">
                {% else %}
                <img src="{% static 'img/default_image.webp' %}" alt="Default Avatar" class="rounded-circle" width="70"
                    height="70">
                {% endif %}
                <strong>{{ user.first_name }} {{ user.last_name }}</strong>
                <small class="text-muted d-block">{{ user.email }}</small>

                <div class="mt-3">
                    {% if sent_requests|has_sent_request:user %}
                    <a href="{% url 'CancelRequest' user.id %}" class="btn btn-sm btn-outline-secondary w-100">Cancel
                        Request</a>
                    {% elif received_requests|has_received_request:user %}
                    <a href="{% url 'AcceptRequest' received_requests|get_request_id:user %}"
                        class="btn btn-sm btn-success w-100 mb-1">Accept</a>
                    <a href="{% url 'RejectRequest' received_requests|get_request_id:user %}"
                        class="btn btn-sm btn-danger w-100">Reject</a>
                    {% else %}
                    <a href="{% url 'SendRequest' user.id %}" class="btn btn-sm btn-primary w-100">Add Friend</a>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endif %}
        {% empty %}
        <p class="text-muted">No people to suggest right now.</p>
        {% endfor %}
    </div>
</div> -->

<div class="d-flex justify-content-center align-items-center text-warning" style="font-size: 30px; font-weight: bold;">
    <p>
        Currently this page is under developement. We will notify when the page is ready!
    </p>
</div>

{% endblock %}