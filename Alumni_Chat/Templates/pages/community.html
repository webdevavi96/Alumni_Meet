{% extends 'master.html' %}
{% block content %}
<div class="container-fluid vh-100">
  <div class="row h-100">

    <!-- Community Sidebar -->
    <div class="col-12 col-md-4 col-lg-3 border-end bg-white p-0">
      <div class="bg-success text-white p-3">
        <h5 class="m-0">Communities</h5>
      </div>
      <div class="list-group list-group-flush overflow-auto">
        {% for community in communities %}
        <button
          class="list-group-item list-group-item-action {% if selected_community and selected_community.community_id == community_id %}active{% endif %}"
          onclick="showCommunity('{{ community.community_id }}')">
          {{ community.community_name }}
        </button>
        {% endfor %}
      </div>
    </div>

    <!-- Community Right Panel -->
    <div id="communityPanel" class="d-none d-md-flex col-md-8 col-lg-9 flex-column bg-light p-0">
      {% if selected_community %}
      <div class="p-3 bg-success text-white d-flex justify-content-between">
        <strong>{{ selected_community.name }}</strong>
      </div>
      <div class="flex-grow-1 p-3 overflow-auto">
        <p class="text-muted text-center mt-5">{{ selected_community.discription }}</p>
      </div>
      <div class="border-top p-2 bg-white">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Type a message...">
          <button class="btn btn-success">Send</button>
        </div>
      </div>
      {% else %}
      <div class="d-flex justify-content-center align-items-center flex-grow-1 text-muted">
        Select a community to start chatting
      </div>
      {% endif %}
    </div>

  </div>
</div>

{% endblock %}